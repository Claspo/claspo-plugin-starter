import fs from 'node:fs';
import path from 'node:path';
import {fileURLToPath} from 'node:url';
import {
  WidgetAppearanceI,
  WidgetModelI,
  WidgetVariantDtoI,
  WidgetLanguageI,
  WidgetPublishStatus,
  ImageLibraryItemI,
  WidgetProjectConfigI, WidgetProjectConfigId,
  WidgetRevisionI,
} from '@claspo/editor';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const DATA_DIR = path.join(__dirname, '../../data');
const LOCAL_DATA_DIR = path.join(DATA_DIR, 'local-data');

// File paths
const WIDGETS_FILE = path.join(LOCAL_DATA_DIR, 'widgets.json');
const APPEARANCES_FILE = path.join(LOCAL_DATA_DIR, 'appearances.json');
const REVISIONS_FILE = path.join(LOCAL_DATA_DIR, 'revisions.json');
const LANGUAGES_FILE = path.join(LOCAL_DATA_DIR, 'languages.json');
const PROJECT_CONFIGS_FILE = path.join(LOCAL_DATA_DIR, 'project-configs.json');
const ICONS_FILE = path.join(LOCAL_DATA_DIR, 'icons.json');
const IMAGE_LIBRARY_FILE = path.join(LOCAL_DATA_DIR, 'image-library.json');
const USER_IMAGES_FILE = path.join(LOCAL_DATA_DIR, 'user-images.json');
const IDS_FILE = path.join(LOCAL_DATA_DIR, 'ids.json');
const DROPDOWN_OPTIONS_FILE = path.join(LOCAL_DATA_DIR, 'dropdown-options.json');

// Ensure local data directory exists
function ensureLocalData(): void {
  if (!fs.existsSync(LOCAL_DATA_DIR)) {
    fs.mkdirSync(LOCAL_DATA_DIR, { recursive: true });
  }
}

// Generic read/write functions
function readJsonFile<T>(filePath: string, defaultValue: T): T {
  ensureLocalData();
  if (!fs.existsSync(filePath)) {
    return defaultValue;
  }
  try {
    const data = fs.readFileSync(filePath, 'utf-8');
    return JSON.parse(data);
  } catch {
    return defaultValue;
  }
}

function writeJsonFile(filePath: string, data: any): void {
  ensureLocalData();
  fs.writeFileSync(filePath, JSON.stringify(data, null, 2));
}

// Initialize default data if not exists
export function initializeDefaultData(): void {
  ensureLocalData();

  // Initialize widgets
  if (!fs.existsSync(WIDGETS_FILE)) {
    const defaultWidgets: WidgetModelI[] = [
      {
        id: 1,
        name: 'Subscription Form Widget',
        publishStatus: WidgetPublishStatus.DEBUG,
        createdDate: '2026-01-06T08:11:18.484Z',
        updatedDate: '2026-01-06T08:19:20.093Z',
        config: createDefaultVariant(1),
        variants: [createDefaultVariant(1)]
      }
    ];
    writeJsonFile(WIDGETS_FILE, defaultWidgets);
  }

  // Initialize appearances
  if (!fs.existsSync(APPEARANCES_FILE)) {
    const defaultAppearances: Record<number, WidgetAppearanceI[]> = {
      1: [{ id: 1, language: null, origin: true, translations: null, document: "{\"shared\":{\"cssVars\":{},\"closeIcon\":{\"mobile\":{\"color\":\"rgba(255, 255, 255, 1)\",\"width\":\"30px\",\"height\":\"30px\",\"content\":\"0\",\"verticalOffset\":\"-30px\",\"horizontalOffset\":\"0px\",\"horizontalPosition\":\"RIGHT\",\"defaultIcon\":true},\"desktop\":{\"color\":\"rgba(255, 255, 255, 1)\",\"width\":\"30px\",\"height\":\"30px\",\"content\":\"0\",\"verticalOffset\":\"-30px\",\"horizontalOffset\":\"-30px\",\"horizontalPosition\":\"RIGHT\",\"defaultIcon\":true}},\"actualSize\":[{\"viewId\":\"b2b9b57d-f3df-405f-a9e8-76708962a669\",\"desktop\":{\"width\":\"360px\",\"height\":\"411px\"}},{\"viewId\":\"99ee4ae3-d8ad-42ef-ba66-a610220b25ce\",\"desktop\":{\"width\":\"290px\",\"height\":\"295.267px\"}},{\"viewId\":\"6d5ec7b3-125d-4375-8e27-e7765a9aff2e\",\"desktop\":{\"width\":\"290px\",\"height\":\"227px\"}},{\"viewId\":\"fff58784-6ad6-4ff0-b3f4-994b9dc43284\",\"desktop\":{\"width\":\"290px\",\"height\":\"191px\"}}],\"linkParams\":{\"color\":\"rgb(0, 0, 238)\"},\"googleFonts\":[\"Poppins\"],\"textClasses\":{\"cl-text-class-h1\":{\"id\":\"cl-text-class-h1\",\"name\":\"H1\",\"isHeader\":true,\"styleAttributes\":{\"color\":\"rgba(0, 0, 0, 1)\",\"fontSize\":\"25px\",\"textAlign\":\"center\",\"fontFamily\":null,\"fontWeight\":\"700\",\"lineHeight\":\"120%\",\"textShadow\":\"none\",\"letterSpacing\":\"0px\"},\"placeholderStyleAttributes\":{\"color\":\"rgb(0, 0, 0)\"}},\"cl-text-class-button\":{\"id\":\"cl-text-class-button\",\"name\":\"Button text\",\"isHeader\":false,\"styleAttributes\":{\"color\":\"rgba(255, 255, 255, 1)\",\"fontSize\":\"16px\",\"textAlign\":\"center\",\"fontFamily\":null,\"fontWeight\":\"700\",\"lineHeight\":\"120%\",\"textShadow\":\"none\",\"letterSpacing\":\"0px\"},\"placeholderStyleAttributes\":{}},\"cl-text-class-input-label\":{\"id\":\"cl-text-class-input-label\",\"name\":\"Title\",\"isHeader\":false,\"styleAttributes\":{\"color\":\"rgba(24, 20, 20, 1)\",\"fontSize\":\"15px\",\"textAlign\":\"center\",\"fontFamily\":\"Poppins\",\"fontWeight\":\"700\",\"lineHeight\":\"120%\",\"textShadow\":\"none\",\"letterSpacing\":\"0px\"},\"placeholderStyleAttributes\":{\"color\":\"rgb(0, 0, 0)\"}},\"cl-text-class-regular-text\":{\"id\":\"cl-text-class-regular-text\",\"name\":\"Regular text\",\"isHeader\":false,\"styleAttributes\":{\"color\":\"rgba(13, 12, 12, 1)\",\"fontSize\":\"15px\",\"textAlign\":\"center\",\"fontFamily\":null,\"fontWeight\":\"300\",\"lineHeight\":\"120%\",\"textShadow\":\"none\",\"letterSpacing\":\"0px\"},\"placeholderStyleAttributes\":{\"color\":\"rgb(0, 0, 0)\"}},\"cl-text-class-3fe157f4-e6ff-4ea4-9c41-3200956bebe8\":{\"id\":\"cl-text-class-3fe157f4-e6ff-4ea4-9c41-3200956bebe8\",\"name\":\"Input text mobile\",\"isHeader\":false,\"styleAttributes\":{\"color\":\"rgba(0, 0, 0, 1)\",\"fontSize\":\"12px\",\"textAlign\":\"start\",\"fontFamily\":null,\"fontWeight\":\"300\",\"lineHeight\":\"120%\",\"textShadow\":\"none\",\"letterSpacing\":\"0px\"},\"placeholderStyleAttributes\":{\"color\":\"rgba(0, 0, 0, 1)\"}},\"cl-text-class-6678abb0-b059-41ad-9ec8-744e85096dc1\":{\"id\":\"cl-text-class-6678abb0-b059-41ad-9ec8-744e85096dc1\",\"name\":\"Input text\",\"isHeader\":false,\"styleAttributes\":{\"color\":\"rgba(0, 0, 0, 1)\",\"fontSize\":\"16px\",\"textAlign\":\"start\",\"fontFamily\":null,\"fontWeight\":\"300\",\"lineHeight\":\"120%\",\"textShadow\":\"none\",\"letterSpacing\":\"0px\"},\"placeholderStyleAttributes\":{\"color\":\"rgba(0, 0, 0, 1)\"}},\"cl-text-class-754b776e-789f-452d-983b-869db3ab0df4\":{\"id\":\"cl-text-class-754b776e-789f-452d-983b-869db3ab0df4\",\"name\":\"Subtitle mobile\",\"isHeader\":true,\"styleAttributes\":{\"color\":\"rgba(0, 0, 0, 1)\",\"fontSize\":\"25px\",\"textAlign\":\"center\",\"fontFamily\":null,\"fontWeight\":\"700\",\"lineHeight\":\"120%\",\"textShadow\":\"none\",\"letterSpacing\":\"0px\"},\"placeholderStyleAttributes\":{\"color\":\"rgb(0, 0, 0)\"}},\"cl-text-class-f2677636-569f-46bf-9e13-fb55ca29268e\":{\"id\":\"cl-text-class-f2677636-569f-46bf-9e13-fb55ca29268e\",\"name\":\"Title mobile\",\"isHeader\":false,\"styleAttributes\":{\"color\":\"rgba(0, 0, 0, 1)\",\"fontSize\":\"12px\",\"textAlign\":\"center\",\"fontFamily\":\"Poppins\",\"fontWeight\":\"400\",\"lineHeight\":\"120%\",\"textShadow\":\"none\",\"letterSpacing\":\"0px\"},\"placeholderStyleAttributes\":{\"color\":\"rgb(0, 0, 0)\"}},\"cl-text-class-f38ae9ad-f7ac-4a90-88e7-1edb856cd7e5\":{\"id\":\"cl-text-class-f38ae9ad-f7ac-4a90-88e7-1edb856cd7e5\",\"name\":\"Button text mobile\",\"isHeader\":false,\"styleAttributes\":{\"color\":\"rgba(255, 255, 255, 1)\",\"fontSize\":\"12px\",\"textAlign\":\"center\",\"fontFamily\":null,\"fontWeight\":\"700\",\"lineHeight\":\"120%\",\"textShadow\":\"none\",\"letterSpacing\":\"0px\"},\"placeholderStyleAttributes\":{}}},\"textFontFamily\":\"Montserrat\",\"headerFontFamily\":\"Montserrat\",\"mobileBreakpointWidth\":576.0},\"views\":[{\"id\":\"b2b9b57d-f3df-405f-a9e8-76708962a669\",\"name\":\"SysColumnsComponent\",\"path\":[0.0],\"type\":\"VIEW\",\"label\":\"DOCUMENT_VIEW_TYPE_DEFAULT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"boxShadow\":\"0px 4px 20px 0px rgba(0, 0, 0, 0.25098039215686274)\",\"borderTopColor\":\"rgba(196, 196, 196, 1)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"0px\",\"borderLeftColor\":\"rgba(196, 196, 196, 1)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"0px\",\"borderRightColor\":\"rgba(196, 196, 196, 1)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"0px\",\"borderBottomColor\":\"rgba(196, 196, 196, 1)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"0px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"}}],\"isResponsive\":true,\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"width\":\"auto\",\"height\":\"auto\",\"minWidth\":null,\"position\":\"relative\",\"minHeight\":null,\"alignItems\":\"initial\",\"background\":\"rgb(255, 255, 255)\"}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"width\":\"auto\",\"height\":\"auto\",\"minWidth\":null,\"position\":\"relative\",\"minHeight\":null,\"alignItems\":\"initial\",\"background\":\"rgb(255, 255, 255)\"}}]},\"backgroundDynamicInlineSVGElements\":null},\"version\":\"1.0.0\",\"children\":[{\"id\":\"91c33e33-1f1d-4a49-b87e-05655a83ece3\",\"name\":\"SysColumnComponent\",\"path\":[0.0,0.0],\"type\":\"COLUMN\",\"props\":{\"content\":{\"size\":\"1\"},\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"5px\",\"display\":\"inline-flex\",\"marginTop\":\"0px\",\"alignItems\":\"center\",\"marginLeft\":\"0px\",\"paddingTop\":\"0px\",\"marginRight\":\"0px\",\"paddingLeft\":\"0px\",\"marginBottom\":\"0px\",\"paddingRight\":\"0px\",\"flexDirection\":\"column\",\"paddingBottom\":\"0px\",\"_marginEnabled\":false,\"borderTopStyle\":\"solid\",\"justifyContent\":\"center\",\"_paddingEnabled\":false,\"borderLeftStyle\":\"solid\",\"borderRightStyle\":\"solid\",\"borderBottomStyle\":\"solid\"}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"display\":\"inline-flex\",\"marginTop\":\"0px\",\"alignItems\":\"center\",\"marginLeft\":\"0px\",\"paddingTop\":\"0px\",\"marginRight\":\"0px\",\"paddingLeft\":\"0px\",\"marginBottom\":\"0px\",\"paddingRight\":\"0px\",\"flexDirection\":\"column\",\"paddingBottom\":\"0px\",\"_marginEnabled\":false,\"borderTopStyle\":\"solid\",\"justifyContent\":\"center\",\"_paddingEnabled\":false,\"borderLeftStyle\":\"solid\",\"borderRightStyle\":\"solid\",\"borderBottomStyle\":\"solid\"}}]},\"styles\":[{\"element\":\"host\",\"styleAttributes\":{\"position\":\"relative\",\"width\":\"auto\",\"minWidth\":\"min-content\",\"height\":\"100%\",\"borderTopWidth\":\"0px\",\"borderTopColor\":\"rgb(0, 0, 0)\",\"borderBottomWidth\":\"0px\",\"borderBottomColor\":\"rgb(0, 0, 0)\",\"borderLeftWidth\":\"0px\",\"borderLeftColor\":\"rgb(0, 0, 0)\",\"borderRightWidth\":\"0px\",\"borderRightColor\":\"rgb(0, 0, 0)\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\",\"boxShadow\":\"none\",\"flexBasis\":\"0\"},\"classes\":\"\"}]},\"version\":\"1.0.0\",\"canStack\":false,\"children\":[{\"id\":\"e70c1397-e5ed-4cae-8ca2-c94b0cf229e7\",\"name\":\"SysImageComponent\",\"path\":[0.0,0.0,0.0],\"type\":\"IMAGE\",\"props\":{\"control\":{\"imageSource\":{\"url\":\"https://cdn.claspo.io/img/77/forms/6557/4d817044-f143-46c9-810e-875d5bbe9e05.png\"}},\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"width\":\"calc(100% - 0px)\",\"height\":\"auto\",\"zIndex\":\"0\",\"display\":\"block\",\"minWidth\":null,\"minHeight\":null,\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}},{\"classes\":\"\",\"element\":\"image\",\"styleAttributes\":{\"objectFit\":\"cover\",\"background\":\"transparent\",\"borderTopColor\":\"rgb(0, 0, 0)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"0px\",\"borderLeftColor\":\"rgb(0, 0, 0)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"0px\",\"borderRightColor\":\"rgb(0, 0, 0)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"0px\",\"borderBottomColor\":\"rgb(0, 0, 0)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"0px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"auto\",\"zIndex\":\"0\",\"display\":\"block\",\"minWidth\":null,\"minHeight\":null,\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"marginBottom\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_marginEnabled\":false,\"_paddingEnabled\":false}},{\"classes\":\"\",\"element\":\"image\",\"styleAttributes\":{\"objectFit\":\"cover\",\"background\":\"transparent\",\"borderTopColor\":\"rgb(0, 0, 0)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"0px\",\"borderLeftColor\":\"rgb(0, 0, 0)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"0px\",\"borderRightColor\":\"rgb(0, 0, 0)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"0px\",\"borderBottomColor\":\"rgb(0, 0, 0)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"0px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"}}]}},\"version\":\"1.0.0\"},{\"id\":\"6b3f7e32-d5db-44cb-a710-35ae131ef725\",\"name\":\"SysContainerComponent\",\"path\":[0.0,0.0,1.0],\"type\":\"CONTAINER\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"boxShadow\":\"none\",\"borderTopColor\":\"rgb(0, 0, 0)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"0px\",\"borderLeftColor\":\"rgb(0, 0, 0)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"0px\",\"borderRightColor\":\"rgb(0, 0, 0)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"0px\",\"borderBottomColor\":\"rgb(0, 0, 0)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"0px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"}}],\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"width\":\"auto\",\"height\":\"auto\",\"minWidth\":null,\"position\":\"relative\",\"marginTop\":\"0px\",\"minHeight\":null,\"alignItems\":\"center\",\"background\":\"transparent\",\"marginLeft\":\"0px\",\"paddingTop\":\"15px\",\"marginRight\":\"0px\",\"paddingLeft\":\"10px\",\"marginBottom\":\"0px\",\"paddingRight\":\"10px\",\"flexDirection\":\"column\",\"paddingBottom\":\"35px\",\"_marginEnabled\":false,\"justifyContent\":\"center\",\"_paddingEnabled\":true}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"width\":\"auto\",\"height\":\"auto\",\"minWidth\":null,\"position\":\"relative\",\"marginTop\":\"15px\",\"minHeight\":null,\"alignItems\":\"center\",\"background\":\"transparent\",\"marginLeft\":\"15px\",\"paddingTop\":\"35px\",\"marginRight\":\"15px\",\"paddingLeft\":\"35px\",\"marginBottom\":\"15px\",\"paddingRight\":\"35px\",\"flexDirection\":\"column\",\"paddingBottom\":\"35px\",\"_marginEnabled\":true,\"justifyContent\":\"center\",\"_paddingEnabled\":true}}]}},\"version\":\"1.0.0\",\"children\":[{\"id\":\"9c044c4a-9fb5-4bbb-a6bd-a747e702d7bd\",\"name\":\"SysTextComponent\",\"path\":[0.0,0.0,1.0,0.0],\"type\":\"TEXT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{}}],\"content\":{\"text\":\"Title\",\"textContrastEnabled\":true},\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"auto\",\"zIndex\":\"0\",\"minWidth\":null,\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-h1\",\"element\":\"text\",\"styleAttributes\":{\"color\":null,\"fontSize\":null,\"textAlign\":null,\"fontFamily\":null,\"fontWeight\":null,\"lineHeight\":null,\"paddingTop\":\"0px\",\"textShadow\":null,\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"letterSpacing\":null,\"paddingBottom\":\"0px\",\"_paddingEnabled\":false},\"placeholderStyleAttributes\":null}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"auto\",\"zIndex\":\"0\",\"minWidth\":null,\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-h1\",\"element\":\"text\",\"styleAttributes\":{\"color\":null,\"fontSize\":null,\"textAlign\":null,\"fontFamily\":null,\"fontWeight\":null,\"lineHeight\":null,\"paddingTop\":\"0px\",\"textShadow\":null,\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"letterSpacing\":null,\"paddingBottom\":\"0px\",\"_paddingEnabled\":false},\"placeholderStyleAttributes\":null}]}},\"version\":\"1.0.0\"},{\"id\":\"4ef2b5e6-0bd4-4351-8b3b-64b14a30ba1f\",\"name\":\"SysTextComponent\",\"path\":[0.0,0.0,1.0,1.0],\"type\":\"TEXT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{}}],\"content\":{\"text\":\"Regular text\",\"textContrastEnabled\":true},\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"auto\",\"zIndex\":\"0\",\"minWidth\":null,\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-regular-text\",\"element\":\"text\",\"styleAttributes\":{\"color\":null,\"fontSize\":null,\"textAlign\":null,\"fontFamily\":null,\"fontWeight\":null,\"lineHeight\":null,\"paddingTop\":\"0px\",\"textShadow\":null,\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"letterSpacing\":null,\"paddingBottom\":\"0px\",\"_paddingEnabled\":false},\"placeholderStyleAttributes\":null}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"auto\",\"zIndex\":\"0\",\"minWidth\":null,\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-regular-text\",\"element\":\"text\",\"styleAttributes\":{\"color\":null,\"fontSize\":null,\"textAlign\":null,\"fontFamily\":null,\"fontWeight\":null,\"lineHeight\":null,\"paddingTop\":\"0px\",\"textShadow\":null,\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"letterSpacing\":null,\"paddingBottom\":\"0px\",\"_paddingEnabled\":false},\"placeholderStyleAttributes\":null}]}},\"version\":\"1.0.0\"},{\"id\":\"c4e5b5aa-c215-457c-8e0a-1155ebee1e7c\",\"name\":\"SysInputComponent\",\"path\":[0.0,0.0,1.0,2.0],\"type\":\"INPUT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"input\",\"styleAttributes\":{\"boxShadow\":\"none\",\"background\":\"rgba(255, 255, 255, 1)\",\"borderTopColor\":\"rgba(0, 0, 0, 1)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"1px\",\"borderLeftColor\":\"rgba(0, 0, 0, 1)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"1px\",\"borderRightColor\":\"rgba(0, 0, 0, 1)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"1px\",\"borderBottomColor\":\"rgba(0, 0, 0, 1)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"1px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"}},{\"params\":{\"margin\":5.0,\"enabled\":false,\"position\":\"TOP\"},\"element\":\"label\"}],\"content\":{\"label\":\"Title\",\"placeholder\":\"First name\",\"suggestionLabel\":\"Did you mean\",\"textContrastEnabled\":true,\"placeholderTextContrastEnabled\":true},\"control\":{\"name\":\"first_name\",\"validation\":{\"required\":true,\"validator\":\"SYS_NAME\",\"validationErrors\":{\"REQUIRED\":\"This field can\\u0027t be empty\",\"MAX_LENGTH_40\":\"Maximum length is 40\",\"MAX_LENGTH_50\":\"Maximum length is 50\",\"NAME_CONTAINS_NUMBERS\":\"Name contains numbers\",\"NAME_CONTAINS_FORBIDDEN_CHARACTERS\":\"Name contains forbidden characters\"}},\"defaultValue\":\"\",\"integrationName\":\"first_name\"},\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"zIndex\":\"0\",\"marginTop\":\"0px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-3fe157f4-e6ff-4ea4-9c41-3200956bebe8\",\"element\":\"input\",\"styleAttributes\":{\"width\":\"220px\",\"height\":\"35px\",\"minWidth\":\"220px\",\"minHeight\":\"35px\",\"paddingTop\":\"10px\",\"paddingLeft\":\"10px\",\"paddingRight\":\"10px\",\"paddingBottom\":\"10px\",\"_paddingEnabled\":true},\"placeholderStyleAttributes\":{}},{\"classes\":\"cl-text-class-input-label\",\"element\":\"label\",\"styleAttributes\":{}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"zIndex\":\"0\",\"marginTop\":\"0px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-6678abb0-b059-41ad-9ec8-744e85096dc1\",\"element\":\"input\",\"styleAttributes\":{\"width\":\"240px\",\"height\":\"40px\",\"minWidth\":\"240px\",\"minHeight\":\"40px\",\"paddingTop\":\"10px\",\"paddingLeft\":\"10px\",\"paddingRight\":\"10px\",\"paddingBottom\":\"10px\",\"_paddingEnabled\":true},\"placeholderStyleAttributes\":{}},{\"classes\":\"cl-text-class-input-label\",\"element\":\"label\",\"styleAttributes\":{}}]}},\"version\":\"1.0.0\"},{\"id\":\"36ee404a-45d2-4cdb-8a88-a80991314d8c\",\"name\":\"SysInputComponent\",\"path\":[0.0,0.0,1.0,3.0],\"type\":\"INPUT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"input\",\"styleAttributes\":{\"boxShadow\":\"none\",\"background\":\"rgba(255, 255, 255, 1)\",\"borderTopColor\":\"rgba(0, 0, 0, 1)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"1px\",\"borderLeftColor\":\"rgba(0, 0, 0, 1)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"1px\",\"borderRightColor\":\"rgba(0, 0, 0, 1)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"1px\",\"borderBottomColor\":\"rgba(0, 0, 0, 1)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"1px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"}},{\"params\":{\"margin\":5.0,\"enabled\":false,\"position\":\"TOP\"},\"element\":\"label\"}],\"content\":{\"label\":\"Title\",\"placeholder\":\"Email\",\"textContrastEnabled\":true,\"placeholderTextContrastEnabled\":true},\"control\":{\"name\":\"email\",\"validation\":{\"required\":true,\"validator\":\"EMAIL\",\"validationErrors\":{\"REQUIRED\":\"This field can\\u0027t be empty\",\"EMAIL_IS_INVALID\":\"Email is invalid\"}},\"defaultValue\":\"\"},\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"marginTop\":\"0px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-3fe157f4-e6ff-4ea4-9c41-3200956bebe8\",\"element\":\"input\",\"styleAttributes\":{\"width\":\"220px\",\"height\":\"35px\",\"minWidth\":\"220px\",\"minHeight\":\"35px\",\"paddingTop\":\"10px\",\"paddingLeft\":\"10px\",\"paddingRight\":\"10px\",\"paddingBottom\":\"10px\",\"_paddingEnabled\":true},\"placeholderStyleAttributes\":{}},{\"classes\":\"cl-text-class-input-label\",\"element\":\"label\",\"styleAttributes\":{}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"marginTop\":\"0px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-6678abb0-b059-41ad-9ec8-744e85096dc1\",\"element\":\"input\",\"styleAttributes\":{\"width\":\"240px\",\"height\":\"40px\",\"minWidth\":\"240px\",\"minHeight\":\"40px\",\"paddingTop\":\"10px\",\"paddingLeft\":\"10px\",\"paddingRight\":\"10px\",\"paddingBottom\":\"10px\",\"_paddingEnabled\":true},\"placeholderStyleAttributes\":{}},{\"classes\":\"cl-text-class-input-label\",\"element\":\"label\",\"styleAttributes\":{}}]}},\"version\":\"1.0.0\"},{\"id\":\"37fbd7a0-72d7-4f27-98cd-422d4cea025e\",\"name\":\"SysPhoneInputComponent\",\"path\":[0.0,0.0,1.0,4.0],\"type\":\"INPUT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"input\",\"styleAttributes\":{\"boxShadow\":\"none\",\"background\":\"rgba(255, 255, 255, 1)\",\"borderTopColor\":\"rgba(0, 0, 0, 1)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"1px\",\"borderLeftColor\":\"rgba(0, 0, 0, 1)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"1px\",\"borderRightColor\":\"rgba(0, 0, 0, 1)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"1px\",\"borderBottomColor\":\"rgba(0, 0, 0, 1)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"1px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"}},{\"params\":{\"margin\":5.0,\"enabled\":false,\"position\":\"TOP\"},\"element\":\"label\"}],\"content\":{\"label\":\"Title\",\"textContrastEnabled\":true},\"control\":{\"name\":\"phone\",\"validation\":{\"required\":true,\"validator\":\"PHONE\",\"validationErrors\":{\"REQUIRED\":\"This field can\\u0027t be empty\",\"PHONE_INVALID_NUMBER\":\"Phone number is invalid\"}},\"countryCode\":\"UA\"},\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"zIndex\":\"0\",\"marginTop\":\"0px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-3fe157f4-e6ff-4ea4-9c41-3200956bebe8\",\"element\":\"input\",\"styleAttributes\":{\"width\":\"220px\",\"height\":\"35px\",\"minWidth\":\"220px\",\"minHeight\":\"35px\",\"paddingTop\":\"10px\",\"paddingLeft\":\"10px\",\"paddingRight\":\"10px\",\"paddingBottom\":\"10px\",\"_paddingEnabled\":true},\"placeholderStyleAttributes\":{}},{\"classes\":\"cl-text-class-input-label\",\"element\":\"label\",\"styleAttributes\":{}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"zIndex\":\"0\",\"marginTop\":\"0px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-6678abb0-b059-41ad-9ec8-744e85096dc1\",\"element\":\"input\",\"styleAttributes\":{\"width\":\"240px\",\"height\":\"40px\",\"minWidth\":\"240px\",\"minHeight\":\"40px\",\"paddingTop\":\"10px\",\"paddingLeft\":\"10px\",\"paddingRight\":\"10px\",\"paddingBottom\":\"10px\",\"_paddingEnabled\":true},\"placeholderStyleAttributes\":{}},{\"classes\":\"cl-text-class-input-label\",\"element\":\"label\",\"styleAttributes\":{}}]}},\"version\":\"1.0.0\"},{\"id\":\"eb4bd830-411c-4f34-a7ef-a413dd3df35d\",\"name\":\"SysButtonComponent\",\"path\":[0.0,0.0,1.0,5.0],\"type\":\"BUTTON\",\"props\":{\"styles\":[{\"classes\":\"cl-loop-animation-null\",\"element\":\"button\",\"styleAttributes\":{\"boxShadow\":\"none\",\"background\":\"rgba(0, 0, 0, 1)\",\"borderTopColor\":\"rgba(255, 255, 255, 1)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"0px\",\"borderLeftColor\":\"rgba(255, 255, 255, 1)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"0px\",\"borderRightColor\":\"rgba(255, 255, 255, 1)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"0px\",\"borderBottomColor\":\"rgba(255, 255, 255, 1)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"0px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"},\"hoverStyleAttributes\":{\"background\":\"rgba(0, 0, 0, 0.73)\",\"borderTopColor\":\"rgba(255, 230, 100, 0)\",\"borderLeftColor\":\"rgba(255, 230, 100, 0)\",\"borderRightColor\":\"rgba(255, 230, 100, 0)\",\"borderBottomColor\":\"rgba(255, 230, 100, 0)\"}}],\"content\":{\"text\":\"BUTTON\",\"textContrastEnabled\":true},\"handlers\":[{\"type\":\"CLICK\",\"actions\":[{\"type\":\"SUBSCRIBE_CONTACT\",\"params\":{\"viewIndexOnError\":3.0,\"viewIndexOnSuccess\":1.0,\"viewIndexOnSubscribed\":2.0}}],\"relativeSelector\":\"button\"}],\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"220px\",\"height\":\"35px\",\"builder\":{\"styles\":{}},\"minWidth\":\"220px\",\"marginTop\":\"0px\",\"minHeight\":\"35px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-f38ae9ad-f7ac-4a90-88e7-1edb856cd7e5\",\"element\":\"button\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"100%\",\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false},\"hoverAnimationType\":null,\"hoverStyleAttributes\":{\"boxShadow\":null}}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"240px\",\"height\":\"40px\",\"builder\":{\"styles\":{}},\"minWidth\":\"240px\",\"marginTop\":\"0px\",\"minHeight\":\"40px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-button\",\"element\":\"button\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"100%\",\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false,\"--cl-PULSE-color\":\"rgba(0,0,0,0.7)\",\"--cl-PULSE-borderRadius\":\"50px\"},\"hoverAnimationType\":null,\"hoverStyleAttributes\":{\"boxShadow\":null}}]}},\"version\":\"1.0.0\"}]}],\"recursiveRemove\":true,\"preventDraggable\":true,\"focusParentOnClick\":false}]},{\"id\":\"99ee4ae3-d8ad-42ef-ba66-a610220b25ce\",\"name\":\"SysColumnsComponent\",\"path\":[1.0],\"type\":\"VIEW\",\"label\":\"DOCUMENT_VIEW_TYPE_SUCCESS\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"boxShadow\":\"0px 4px 20px 0px rgba(0, 0, 0, 0.25098039215686274)\",\"borderTopColor\":\"rgba(196, 196, 196, 1)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"0px\",\"borderLeftColor\":\"rgba(196, 196, 196, 1)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"0px\",\"borderRightColor\":\"rgba(196, 196, 196, 1)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"0px\",\"borderBottomColor\":\"rgba(196, 196, 196, 1)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"0px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"}}],\"isResponsive\":true,\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"width\":\"auto\",\"height\":\"auto\",\"minWidth\":null,\"position\":\"relative\",\"minHeight\":null,\"alignItems\":\"initial\",\"background\":\"rgb(255, 255, 255)\"}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"width\":\"auto\",\"height\":\"auto\",\"minWidth\":null,\"position\":\"relative\",\"minHeight\":null,\"alignItems\":\"initial\",\"background\":\"rgb(255, 255, 255)\"}}]},\"backgroundDynamicInlineSVGElements\":null},\"version\":\"1.0.0\",\"children\":[{\"id\":\"5a203b11-df6d-4419-992e-1a508485e288\",\"name\":\"SysColumnComponent\",\"path\":[1.0,0.0],\"type\":\"COLUMN\",\"props\":{\"content\":{\"size\":\"1\"},\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"5px\",\"display\":\"inline-flex\",\"marginTop\":\"0px\",\"alignItems\":\"center\",\"marginLeft\":\"0px\",\"paddingTop\":\"20px\",\"marginRight\":\"0px\",\"paddingLeft\":\"20px\",\"marginBottom\":\"0px\",\"paddingRight\":\"20px\",\"flexDirection\":\"column\",\"paddingBottom\":\"20px\",\"_marginEnabled\":false,\"borderTopStyle\":\"solid\",\"justifyContent\":\"center\",\"_paddingEnabled\":true,\"borderLeftStyle\":\"solid\",\"borderRightStyle\":\"solid\",\"borderBottomStyle\":\"solid\"}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"display\":\"inline-flex\",\"marginTop\":\"0px\",\"alignItems\":\"center\",\"marginLeft\":\"0px\",\"paddingTop\":\"30px\",\"marginRight\":\"0px\",\"paddingLeft\":\"30px\",\"marginBottom\":\"0px\",\"paddingRight\":\"30px\",\"flexDirection\":\"column\",\"paddingBottom\":\"30px\",\"_marginEnabled\":false,\"borderTopStyle\":\"solid\",\"justifyContent\":\"center\",\"_paddingEnabled\":true,\"borderLeftStyle\":\"solid\",\"borderRightStyle\":\"solid\",\"borderBottomStyle\":\"solid\"}}]},\"styles\":[{\"element\":\"host\",\"styleAttributes\":{\"position\":\"relative\",\"width\":\"auto\",\"minWidth\":\"min-content\",\"height\":\"100%\",\"borderTopWidth\":\"0px\",\"borderTopColor\":\"rgb(0, 0, 0)\",\"borderBottomWidth\":\"0px\",\"borderBottomColor\":\"rgb(0, 0, 0)\",\"borderLeftWidth\":\"0px\",\"borderLeftColor\":\"rgb(0, 0, 0)\",\"borderRightWidth\":\"0px\",\"borderRightColor\":\"rgb(0, 0, 0)\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\",\"boxShadow\":\"none\",\"flexBasis\":\"0\"},\"classes\":\"\"}]},\"version\":\"1.0.0\",\"canStack\":false,\"children\":[{\"id\":\"6c0f0c68-b311-4fa7-8a4e-9077139aa6e0\",\"name\":\"SysTextComponent\",\"path\":[1.0,0.0,0.0],\"type\":\"TEXT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{}}],\"content\":{\"text\":\"Thanks for subscribe!\",\"textContrastEnabled\":true},\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"250px\",\"height\":\"auto\",\"minWidth\":\"250px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-h1\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"354px\",\"height\":\"auto\",\"minWidth\":\"354px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-h1\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}]}},\"version\":\"1.0.0\"},{\"id\":\"e0963145-1b40-465e-9682-a3fa61dcd705\",\"name\":\"SysPromoCodeComponent\",\"path\":[1.0,0.0,1.0],\"type\":\"PROMO_CODE\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"text\",\"styleAttributes\":{\"boxShadow\":\"none\",\"background\":\"rgb(255, 255, 255)\",\"borderTopColor\":\"rgb(0, 0, 0)\",\"borderTopStyle\":\"dashed\",\"borderTopWidth\":\"2px\",\"borderLeftColor\":\"rgb(0, 0, 0)\",\"borderLeftStyle\":\"dashed\",\"borderLeftWidth\":\"2px\",\"borderRightColor\":\"rgb(0, 0, 0)\",\"borderRightStyle\":\"dashed\",\"borderRightWidth\":\"2px\",\"borderBottomColor\":\"rgb(0, 0, 0)\",\"borderBottomStyle\":\"dashed\",\"borderBottomWidth\":\"2px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"},\"hoverStyleAttributes\":{}},{\"classes\":\"\",\"element\":\"icon\",\"styleAttributes\":{\"color\":\"#000000\",\"right\":\"5px\",\"display\":\"none\",\"position\":\"static\",\"marginLeft\":\"15px\",\"--clPromocodeIconWidth\":\"24px\",\"--clPromocodeIconHeight\":\"24px\"}}],\"content\":{\"text\":\"SALE_15\",\"iconContent\":null,\"iconContrastEnabled\":true,\"textContrastEnabled\":true},\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"auto\",\"height\":\"auto\",\"zIndex\":\"0\",\"minWidth\":null,\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"\",\"element\":\"text\",\"styleAttributes\":{\"color\":\"rgb(50, 66, 67)\",\"fontSize\":\"18px\",\"textAlign\":\"center\",\"fontFamily\":null,\"fontWeight\":\"400\",\"lineHeight\":\"120%\",\"paddingTop\":\"10px\",\"textShadow\":\"none\",\"paddingLeft\":\"10px\",\"paddingRight\":\"10px\",\"paddingBottom\":\"10px\",\"_paddingEnabled\":true}},{\"classes\":\"\",\"element\":\"icon\",\"styleAttributes\":{\"color\":\"#000000\",\"right\":\"5px\",\"display\":\"none\",\"position\":\"static\",\"marginLeft\":\"15px\",\"_marginEnabled\":true,\"--clPromocodeIconWidth\":\"24px\",\"--clPromocodeIconHeight\":\"24px\"}}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"165px\",\"height\":\"auto\",\"zIndex\":\"0\",\"minWidth\":\"165px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"\",\"element\":\"text\",\"styleAttributes\":{\"color\":\"rgb(0, 0, 0)\",\"fontSize\":\"18px\",\"textAlign\":\"center\",\"fontFamily\":null,\"fontWeight\":\"400\",\"lineHeight\":\"120%\",\"paddingTop\":\"10px\",\"textShadow\":\"none\",\"paddingLeft\":\"10px\",\"paddingRight\":\"10px\",\"paddingBottom\":\"10px\",\"_paddingEnabled\":true}},{\"classes\":\"\",\"element\":\"icon\",\"styleAttributes\":{\"color\":\"#000000\",\"right\":\"5px\",\"display\":\"none\",\"position\":\"static\",\"marginLeft\":\"15px\",\"_marginEnabled\":true,\"--clPromocodeIconWidth\":\"24px\",\"--clPromocodeIconHeight\":\"24px\"}}]}},\"version\":\"1.0.0\"},{\"id\":\"9507004a-4d33-45c3-a8a6-a61bb26d2f46\",\"name\":\"SysTextComponent\",\"path\":[1.0,0.0,2.0],\"type\":\"TEXT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{}}],\"content\":{\"text\":\"We’ve sent an email with a confirmation link to your email address. To complete subscription, please click the confirmation link.\",\"textContrastEnabled\":true},\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"250px\",\"height\":\"auto\",\"minWidth\":\"250px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"10px\",\"_marginEnabled\":true}},{\"classes\":\"cl-text-class-regular-text\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"354px\",\"height\":\"auto\",\"minWidth\":\"354px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"10px\",\"_marginEnabled\":true}},{\"classes\":\"cl-text-class-regular-text\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}]}},\"version\":\"1.0.0\"},{\"id\":\"98d10d1a-3cfd-458d-82ba-1279f2e264b4\",\"name\":\"SysButtonComponent\",\"path\":[1.0,0.0,3.0],\"type\":\"BUTTON\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"button\",\"styleAttributes\":{\"boxShadow\":\"none\",\"background\":\"rgba(0, 0, 0, 1)\",\"borderTopColor\":\"rgba(255, 255, 255, 1)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"0px\",\"borderLeftColor\":\"rgba(255, 255, 255, 1)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"0px\",\"borderRightColor\":\"rgba(255, 255, 255, 1)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"0px\",\"borderBottomColor\":\"rgba(255, 255, 255, 1)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"0px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"},\"hoverStyleAttributes\":{\"background\":\"rgba(0, 0, 0, 0.73)\",\"borderTopColor\":\"rgba(255, 230, 100, 0)\",\"borderLeftColor\":\"rgba(255, 230, 100, 0)\",\"borderRightColor\":\"rgba(255, 230, 100, 0)\",\"borderBottomColor\":\"rgba(255, 230, 100, 0)\"}}],\"content\":{\"text\":\"CLOSE\",\"textContrastEnabled\":true},\"handlers\":[{\"type\":\"CLICK\",\"actions\":[{\"type\":\"CLOSE_WIDGET\",\"params\":{}}]}],\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"220px\",\"height\":\"35px\",\"builder\":{\"styles\":{}},\"minWidth\":\"220px\",\"marginTop\":\"0px\",\"minHeight\":\"35px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-f38ae9ad-f7ac-4a90-88e7-1edb856cd7e5\",\"element\":\"button\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"100%\",\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false},\"hoverAnimationType\":null,\"hoverStyleAttributes\":{\"boxShadow\":null}}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"240px\",\"height\":\"40px\",\"builder\":{\"styles\":{}},\"minWidth\":\"240px\",\"marginTop\":\"0px\",\"minHeight\":\"40px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-button\",\"element\":\"button\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"100%\",\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false},\"hoverAnimationType\":null,\"hoverStyleAttributes\":{\"boxShadow\":null}}]}},\"version\":\"1.0.0\"}],\"recursiveRemove\":true,\"preventDraggable\":true,\"focusParentOnClick\":false}]},{\"id\":\"6d5ec7b3-125d-4375-8e27-e7765a9aff2e\",\"name\":\"SysColumnsComponent\",\"path\":[2.0],\"type\":\"VIEW\",\"label\":\"DOCUMENT_VIEW_TYPE_SUBSCRIBED\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"boxShadow\":\"0px 4px 20px 0px rgba(0, 0, 0, 0.25098039215686274)\",\"borderTopColor\":\"rgba(196, 196, 196, 1)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"0px\",\"borderLeftColor\":\"rgba(196, 196, 196, 1)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"0px\",\"borderRightColor\":\"rgba(196, 196, 196, 1)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"0px\",\"borderBottomColor\":\"rgba(196, 196, 196, 1)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"0px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"}}],\"isResponsive\":true,\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"width\":\"auto\",\"height\":\"auto\",\"minWidth\":null,\"position\":\"relative\",\"minHeight\":null,\"alignItems\":\"initial\",\"background\":\"rgb(255, 255, 255)\"}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"width\":\"auto\",\"height\":\"auto\",\"minWidth\":null,\"position\":\"relative\",\"minHeight\":null,\"alignItems\":\"initial\",\"background\":\"rgb(255, 255, 255)\"}}]},\"backgroundDynamicInlineSVGElements\":null},\"version\":\"1.0.0\",\"children\":[{\"id\":\"6d1c443d-5673-47c5-abe3-23e4d08e4cb0\",\"name\":\"SysColumnComponent\",\"path\":[2.0,0.0],\"type\":\"COLUMN\",\"props\":{\"content\":{\"size\":\"1\"},\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"5px\",\"display\":\"inline-flex\",\"marginTop\":\"0px\",\"alignItems\":\"center\",\"marginLeft\":\"0px\",\"paddingTop\":\"20px\",\"marginRight\":\"0px\",\"paddingLeft\":\"20px\",\"marginBottom\":\"0px\",\"paddingRight\":\"20px\",\"flexDirection\":\"column\",\"paddingBottom\":\"20px\",\"_marginEnabled\":false,\"borderTopStyle\":\"solid\",\"justifyContent\":\"center\",\"_paddingEnabled\":true,\"borderLeftStyle\":\"solid\",\"borderRightStyle\":\"solid\",\"borderBottomStyle\":\"solid\"}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"display\":\"inline-flex\",\"marginTop\":\"0px\",\"alignItems\":\"center\",\"marginLeft\":\"0px\",\"paddingTop\":\"30px\",\"marginRight\":\"0px\",\"paddingLeft\":\"30px\",\"marginBottom\":\"0px\",\"paddingRight\":\"30px\",\"flexDirection\":\"column\",\"paddingBottom\":\"30px\",\"_marginEnabled\":false,\"borderTopStyle\":\"solid\",\"justifyContent\":\"center\",\"_paddingEnabled\":true,\"borderLeftStyle\":\"solid\",\"borderRightStyle\":\"solid\",\"borderBottomStyle\":\"solid\"}}]},\"styles\":[{\"element\":\"host\",\"styleAttributes\":{\"position\":\"relative\",\"width\":\"auto\",\"minWidth\":\"min-content\",\"height\":\"100%\",\"borderTopWidth\":\"0px\",\"borderTopColor\":\"rgb(0, 0, 0)\",\"borderBottomWidth\":\"0px\",\"borderBottomColor\":\"rgb(0, 0, 0)\",\"borderLeftWidth\":\"0px\",\"borderLeftColor\":\"rgb(0, 0, 0)\",\"borderRightWidth\":\"0px\",\"borderRightColor\":\"rgb(0, 0, 0)\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\",\"boxShadow\":\"none\",\"flexBasis\":\"0\"},\"classes\":\"\"}]},\"version\":\"1.0.0\",\"canStack\":false,\"children\":[{\"id\":\"54ab9631-f34a-468e-b26d-821141c8041c\",\"name\":\"SysTextComponent\",\"path\":[2.0,0.0,0.0],\"type\":\"TEXT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{}}],\"content\":{\"text\":\"You’re already subscribed\",\"textContrastEnabled\":true},\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"250px\",\"height\":\"auto\",\"minWidth\":\"250px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-754b776e-789f-452d-983b-869db3ab0df4\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"354px\",\"height\":\"auto\",\"minWidth\":\"354px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-h1\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}]}},\"version\":\"1.0.0\"},{\"id\":\"9df981d7-8b5b-4bfe-ab86-68a6d5205be7\",\"name\":\"SysTextComponent\",\"path\":[2.0,0.0,1.0],\"type\":\"TEXT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{}}],\"content\":{\"text\":\"If you aren’t getting our emails, please check your Spam folder in case they are being delivered there instead of Inbox.  \",\"textContrastEnabled\":true},\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"250px\",\"height\":\"auto\",\"minWidth\":\"250px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"10px\",\"_marginEnabled\":true}},{\"classes\":\"cl-text-class-regular-text\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"354px\",\"height\":\"auto\",\"minWidth\":\"354px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"10px\",\"_marginEnabled\":true}},{\"classes\":\"cl-text-class-regular-text\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}]}},\"version\":\"1.0.0\"},{\"id\":\"00d891aa-f09b-4ff6-8a23-42e797e8eff8\",\"name\":\"SysButtonComponent\",\"path\":[2.0,0.0,2.0],\"type\":\"BUTTON\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"button\",\"styleAttributes\":{\"boxShadow\":\"none\",\"background\":\"rgba(0, 0, 0, 1)\",\"borderTopColor\":\"rgba(255, 255, 255, 1)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"0px\",\"borderLeftColor\":\"rgba(255, 255, 255, 1)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"0px\",\"borderRightColor\":\"rgba(255, 255, 255, 1)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"0px\",\"borderBottomColor\":\"rgba(255, 255, 255, 1)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"0px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"},\"hoverStyleAttributes\":{\"background\":\"rgba(0, 0, 0, 0.73)\",\"borderTopColor\":\"rgba(255, 230, 100, 0)\",\"borderLeftColor\":\"rgba(255, 230, 100, 0)\",\"borderRightColor\":\"rgba(255, 230, 100, 0)\",\"borderBottomColor\":\"rgba(255, 230, 100, 0)\"}}],\"content\":{\"text\":\"TRY ANOTHER EMAIL\",\"textContrastEnabled\":true},\"handlers\":[{\"type\":\"CLICK\",\"actions\":[{\"type\":\"GO_TO_VIEW\",\"params\":{\"viewId\":\"b2b9b57d-f3df-405f-a9e8-76708962a669\"}}]}],\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"220px\",\"height\":\"35px\",\"builder\":{\"styles\":{}},\"minWidth\":\"220px\",\"marginTop\":\"0px\",\"minHeight\":\"35px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-f38ae9ad-f7ac-4a90-88e7-1edb856cd7e5\",\"element\":\"button\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"100%\",\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false},\"hoverAnimationType\":null,\"hoverStyleAttributes\":{\"boxShadow\":null}}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"240px\",\"height\":\"40px\",\"builder\":{\"styles\":{}},\"minWidth\":\"240px\",\"marginTop\":\"0px\",\"minHeight\":\"40px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-button\",\"element\":\"button\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"100%\",\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false},\"hoverAnimationType\":null,\"hoverStyleAttributes\":{\"boxShadow\":null}}]}},\"version\":\"1.0.0\"}],\"recursiveRemove\":true,\"preventDraggable\":true,\"focusParentOnClick\":false}]},{\"id\":\"fff58784-6ad6-4ff0-b3f4-994b9dc43284\",\"name\":\"SysColumnsComponent\",\"path\":[3.0],\"type\":\"VIEW\",\"label\":\"DOCUMENT_VIEW_TYPE_ERROR\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"boxShadow\":\"0px 4px 20px 0px rgba(0, 0, 0, 0.25098039215686274)\",\"borderTopColor\":\"rgba(196, 196, 196, 1)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"0px\",\"borderLeftColor\":\"rgba(196, 196, 196, 1)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"0px\",\"borderRightColor\":\"rgba(196, 196, 196, 1)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"0px\",\"borderBottomColor\":\"rgba(196, 196, 196, 1)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"0px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"}}],\"isResponsive\":true,\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"width\":\"auto\",\"height\":\"auto\",\"minWidth\":null,\"position\":\"relative\",\"minHeight\":null,\"alignItems\":\"initial\",\"background\":\"rgb(255, 255, 255)\"}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"width\":\"auto\",\"height\":\"auto\",\"minWidth\":null,\"position\":\"relative\",\"minHeight\":null,\"alignItems\":\"initial\",\"background\":\"rgb(255, 255, 255)\"}}]},\"backgroundDynamicInlineSVGElements\":null},\"version\":\"1.0.0\",\"children\":[{\"id\":\"4cf2b2a6-04cb-4003-95ec-99ab8dbb50df\",\"name\":\"SysColumnComponent\",\"path\":[3.0,0.0],\"type\":\"COLUMN\",\"props\":{\"content\":{\"size\":\"1\"},\"adaptiveStyles\":{\"mobile\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"5px\",\"display\":\"inline-flex\",\"marginTop\":\"0px\",\"alignItems\":\"center\",\"marginLeft\":\"0px\",\"paddingTop\":\"20px\",\"marginRight\":\"0px\",\"paddingLeft\":\"20px\",\"marginBottom\":\"0px\",\"paddingRight\":\"20px\",\"flexDirection\":\"column\",\"paddingBottom\":\"20px\",\"_marginEnabled\":false,\"borderTopStyle\":\"solid\",\"justifyContent\":\"center\",\"_paddingEnabled\":true,\"borderLeftStyle\":\"solid\",\"borderRightStyle\":\"solid\",\"borderBottomStyle\":\"solid\"}}],\"desktop\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{\"gap\":\"10px\",\"display\":\"inline-flex\",\"marginTop\":\"0px\",\"alignItems\":\"center\",\"marginLeft\":\"0px\",\"paddingTop\":\"30px\",\"marginRight\":\"0px\",\"paddingLeft\":\"30px\",\"marginBottom\":\"0px\",\"paddingRight\":\"30px\",\"flexDirection\":\"column\",\"paddingBottom\":\"30px\",\"_marginEnabled\":false,\"borderTopStyle\":\"solid\",\"justifyContent\":\"center\",\"_paddingEnabled\":true,\"borderLeftStyle\":\"solid\",\"borderRightStyle\":\"solid\",\"borderBottomStyle\":\"solid\"}}]},\"styles\":[{\"element\":\"host\",\"styleAttributes\":{\"position\":\"relative\",\"width\":\"auto\",\"minWidth\":\"min-content\",\"height\":\"100%\",\"borderTopWidth\":\"0px\",\"borderTopColor\":\"rgb(0, 0, 0)\",\"borderBottomWidth\":\"0px\",\"borderBottomColor\":\"rgb(0, 0, 0)\",\"borderLeftWidth\":\"0px\",\"borderLeftColor\":\"rgb(0, 0, 0)\",\"borderRightWidth\":\"0px\",\"borderRightColor\":\"rgb(0, 0, 0)\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\",\"boxShadow\":\"none\",\"flexBasis\":\"0\"},\"classes\":\"\"}]},\"version\":\"1.0.0\",\"canStack\":false,\"children\":[{\"id\":\"37f5d432-b28d-427a-8c00-abdf3596aca9\",\"name\":\"SysTextComponent\",\"path\":[3.0,0.0,0.0],\"type\":\"TEXT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{}}],\"content\":{\"text\":\"Oops! Something went wrong!\",\"textContrastEnabled\":true},\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"250px\",\"height\":\"auto\",\"minWidth\":\"250px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-754b776e-789f-452d-983b-869db3ab0df4\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"354px\",\"height\":\"auto\",\"minWidth\":\"354px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-h1\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}]}},\"version\":\"1.0.0\"},{\"id\":\"ed86bd61-1acb-4b53-b2ce-c0624c05a9e9\",\"name\":\"SysTextComponent\",\"path\":[3.0,0.0,1.0],\"type\":\"TEXT\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"host\",\"styleAttributes\":{}}],\"content\":{\"text\":\"Subscription failed. Please try to subscribe again!\",\"textContrastEnabled\":true},\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"250px\",\"height\":\"auto\",\"minWidth\":\"250px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"10px\",\"_marginEnabled\":true}},{\"classes\":\"cl-text-class-regular-text\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"354px\",\"height\":\"auto\",\"minWidth\":\"354px\",\"marginTop\":\"0px\",\"minHeight\":null,\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"10px\",\"_marginEnabled\":true}},{\"classes\":\"cl-text-class-regular-text\",\"element\":\"text\",\"styleAttributes\":{\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false}}]}},\"version\":\"1.0.0\"},{\"id\":\"13773407-892c-48d0-a400-8603b2761cb9\",\"name\":\"SysButtonComponent\",\"path\":[3.0,0.0,2.0],\"type\":\"BUTTON\",\"props\":{\"styles\":[{\"classes\":\"\",\"element\":\"button\",\"styleAttributes\":{\"boxShadow\":\"none\",\"background\":\"rgba(0, 0, 0, 1)\",\"borderTopColor\":\"rgba(255, 255, 255, 1)\",\"borderTopStyle\":\"solid\",\"borderTopWidth\":\"0px\",\"borderLeftColor\":\"rgba(255, 255, 255, 1)\",\"borderLeftStyle\":\"solid\",\"borderLeftWidth\":\"0px\",\"borderRightColor\":\"rgba(255, 255, 255, 1)\",\"borderRightStyle\":\"solid\",\"borderRightWidth\":\"0px\",\"borderBottomColor\":\"rgba(255, 255, 255, 1)\",\"borderBottomStyle\":\"solid\",\"borderBottomWidth\":\"0px\",\"borderTopLeftRadius\":\"0px\",\"borderTopRightRadius\":\"0px\",\"borderBottomLeftRadius\":\"0px\",\"borderBottomRightRadius\":\"0px\"},\"hoverStyleAttributes\":{\"background\":\"rgba(0, 0, 0, 0.73)\",\"borderTopColor\":\"rgba(255, 230, 100, 0)\",\"borderLeftColor\":\"rgba(255, 230, 100, 0)\",\"borderRightColor\":\"rgba(255, 230, 100, 0)\",\"borderBottomColor\":\"rgba(255, 230, 100, 0)\"}}],\"content\":{\"text\":\"TRY AGAIN!\",\"textContrastEnabled\":true},\"handlers\":[{\"type\":\"CLICK\",\"actions\":[{\"type\":\"SUBSCRIBE_CONTACT\",\"params\":{\"viewIndexOnError\":3.0,\"viewIndexOnSuccess\":1.0,\"viewIndexOnSubscribed\":2.0}}]}],\"adaptiveStyles\":{\"mobile\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"220px\",\"height\":\"35px\",\"builder\":{\"styles\":{}},\"minWidth\":\"220px\",\"marginTop\":\"0px\",\"minHeight\":\"35px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-f38ae9ad-f7ac-4a90-88e7-1edb856cd7e5\",\"element\":\"button\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"100%\",\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false},\"hoverAnimationType\":null,\"hoverStyleAttributes\":{\"boxShadow\":null}}],\"desktop\":[{\"element\":\"host\",\"styleAttributes\":{\"width\":\"240px\",\"height\":\"40px\",\"builder\":{\"styles\":{}},\"minWidth\":\"240px\",\"marginTop\":\"0px\",\"minHeight\":\"40px\",\"marginLeft\":\"0px\",\"marginRight\":\"0px\",\"marginBottom\":\"0px\",\"_marginEnabled\":false}},{\"classes\":\"cl-text-class-button\",\"element\":\"button\",\"styleAttributes\":{\"width\":\"100%\",\"height\":\"100%\",\"paddingTop\":\"0px\",\"paddingLeft\":\"0px\",\"paddingRight\":\"0px\",\"paddingBottom\":\"0px\",\"_paddingEnabled\":false},\"hoverAnimationType\":null,\"hoverStyleAttributes\":{\"boxShadow\":null}}]}},\"version\":\"1.0.0\"}],\"recursiveRemove\":true,\"preventDraggable\":true,\"focusParentOnClick\":false}]}]}", sync: null } as WidgetAppearanceI]
    };
    writeJsonFile(APPEARANCES_FILE, defaultAppearances);
  }

  // Initialize revisions
  if (!fs.existsSync(REVISIONS_FILE)) {
    writeJsonFile(REVISIONS_FILE, {});
  }

  // Initialize languages
  if (!fs.existsSync(LANGUAGES_FILE)) {
    const defaultLanguages: WidgetLanguageI[] = [
      { languageCode: 'en', name: 'English', localisation: { en: 'English', native: 'English' } },
      { languageCode: 'es', name: 'Spanish', localisation: { en: 'Spanish', native: 'Español' } },
      { languageCode: 'pl', name: 'Polish', localisation: { en: 'Polish', native: 'Polski' } },
      { languageCode: 'ru', name: 'Russian', localisation: { en: 'Russian', native: 'Русский' } }
    ];
    writeJsonFile(LANGUAGES_FILE, defaultLanguages);
  }

  // Initialize project configs
  if (!fs.existsSync(PROJECT_CONFIGS_FILE)) {
    const defaultConfigs: WidgetProjectConfigI[] = [
      { id: WidgetProjectConfigId.COUNTRY_CODES_PRIORITY, value: '{"includedList":["PT","ES","FR"],"allowToAddOnlyFromIncludedList":false}' }
    ];
    writeJsonFile(PROJECT_CONFIGS_FILE, defaultConfigs);
  }

  // Initialize icons
  if (!fs.existsSync(ICONS_FILE)) {
    const defaultIcons: Record<string, { url: string }[]> = {
      social: [
        { url: 'https://cdn.example.com/icons/social/facebook.svg' },
        { url: 'https://cdn.example.com/icons/social/twitter.svg' }
      ],
      arrows: [
        { url: 'https://cdn.example.com/icons/arrows/left.svg' },
        { url: 'https://cdn.example.com/icons/arrows/right.svg' }
      ]
    };
    writeJsonFile(ICONS_FILE, defaultIcons);
  }

  // Initialize image library
  if (!fs.existsSync(IMAGE_LIBRARY_FILE)) {
    const defaultImages: ImageLibraryItemI[] = [
      { url: 'https://cdn.example.com/images/background1.jpg', smallUrl: 'https://cdn.example.com/images/thumbs/background1.jpg' },
      { url: 'https://cdn.example.com/images/background2.jpg', smallUrl: 'https://cdn.example.com/images/thumbs/background2.jpg' }
    ];
    writeJsonFile(IMAGE_LIBRARY_FILE, defaultImages);
  }

  // Initialize user images
  if (!fs.existsSync(USER_IMAGES_FILE)) {
    writeJsonFile(USER_IMAGES_FILE, []);
  }

  // Initialize IDs
  if (!fs.existsSync(IDS_FILE)) {
    writeJsonFile(IDS_FILE, { nextWidgetId: 2, nextVariantId: 2, nextAppearanceId: 2 });
  }

  // Initialize IDs
  if (!fs.existsSync(DROPDOWN_OPTIONS_FILE)) {
    writeJsonFile(DROPDOWN_OPTIONS_FILE, {
      options: [
        { label: "London", id: "1" },
        { label: "Kyiv", id: "2" },
        { label: "Warsaw", id: "3" },
      ]
    });
  }
}

function createDefaultVariant(id: number): WidgetVariantDtoI {
  return {
    id,
    formId: id,
    config: { type: 'DETACHED', placements: [], prizePoolIds: [] },
    appearances: [{ id: id * 100, language: null, origin: true }],
    type: 'SUBSCRIPTION_FORM',
    revision: `${id}a217908-0f7b-4c77-bc5d-0dadf07f6939`,
    publishedRevision: `${id}a217908-0f7b-4c77-bc5d-0dadf07f6939`,
    linkedToVariantId: null
  } as WidgetVariantDtoI;
}

// Widget operations
export function getWidgets(): WidgetModelI[] {
  return readJsonFile<WidgetModelI[]>(WIDGETS_FILE, []);
}

export function getWidget(widgetId: number): WidgetModelI | null {
  const widgets = getWidgets();
  return widgets.find(w => w.id === widgetId) || null;
}

export function saveWidgets(widgets: WidgetModelI[]): void {
  writeJsonFile(WIDGETS_FILE, widgets);
}

export function updateWidget(widgetId: number, updates: Partial<WidgetModelI>): WidgetModelI | null {
  const widgets = getWidgets();
  const index = widgets.findIndex(w => w.id === widgetId);
  if (index === -1) return null;

  widgets[index] = { ...widgets[index], ...updates, updatedDate: new Date().toISOString() };
  saveWidgets(widgets);
  return widgets[index];
}

export function createWidget(widget: Omit<WidgetModelI, 'id'>, widgetId?: number): WidgetModelI {
  const widgets = getWidgets();
  const id = widgetId ?? getNextIds().widgetId;
  const newWidget: WidgetModelI = { ...widget, id } as WidgetModelI;
  widgets.push(newWidget);
  saveWidgets(widgets);
  return newWidget;
}

// Appearances operations
export function getAppearances(widgetId: number): WidgetAppearanceI[] {
  const allAppearances = readJsonFile<Record<number, WidgetAppearanceI[]>>(APPEARANCES_FILE, {});
  return allAppearances[widgetId] || [];
}

export function saveAppearances(widgetId: number, appearances: WidgetAppearanceI[]): void {
  const allAppearances = readJsonFile<Record<number, WidgetAppearanceI[]>>(APPEARANCES_FILE, {});
  allAppearances[widgetId] = appearances;
  writeJsonFile(APPEARANCES_FILE, allAppearances);
}

// Revisions operations
export function getRevisions(widgetId: number): WidgetRevisionI[] {
  const allRevisions = readJsonFile<Record<number, WidgetRevisionI[]>>(REVISIONS_FILE, {});
  return allRevisions[widgetId] || [];
}

export function getRevisionByUuid(uuid: string): WidgetRevisionI | null {
  const allRevisions = readJsonFile<Record<number, WidgetRevisionI[]>>(REVISIONS_FILE, {});
  for (const revisions of Object.values(allRevisions)) {
    const found = revisions.find(r => r.uuid === uuid);
    if (found) return found;
  }
  return null;
}

export function addRevision(widgetId: number, revision: WidgetRevisionI): void {
  const allRevisions = readJsonFile<Record<number, WidgetRevisionI[]>>(REVISIONS_FILE, {});
  if (!allRevisions[widgetId]) allRevisions[widgetId] = [];
  allRevisions[widgetId].unshift(revision);
  writeJsonFile(REVISIONS_FILE, allRevisions);
}

export function getDropdownOptions(): WidgetLanguageI[] {
  return readJsonFile<any[]>(DROPDOWN_OPTIONS_FILE, []);
}

// Languages operations
export function getLanguages(): WidgetLanguageI[] {
  return readJsonFile<WidgetLanguageI[]>(LANGUAGES_FILE, []);
}

// Project configs operations
export function getProjectConfigs(): WidgetProjectConfigI[] {
  return readJsonFile<WidgetProjectConfigI[]>(PROJECT_CONFIGS_FILE, []);
}

// Icons operations
export function getIcons(type?: string): { url: string }[] {
  const allIcons = readJsonFile<Record<string, { url: string }[]>>(ICONS_FILE, {});
  if (type) return allIcons[type] || [];
  return Object.values(allIcons).flat();
}

// Image library operations
export function getImageLibrary(): ImageLibraryItemI[] {
  return readJsonFile<ImageLibraryItemI[]>(IMAGE_LIBRARY_FILE, []);
}

// User images operations
export function getUserImages(): { url: string }[] {
  return readJsonFile<{ url: string }[]>(USER_IMAGES_FILE, []);
}

export function addUserImage(url: string): void {
  const images = getUserImages();
  images.push({ url });
  writeJsonFile(USER_IMAGES_FILE, images);
}

export function removeUserImage(url: string): boolean {
  const images = getUserImages();
  const index = images.findIndex(img => img.url === url);
  if (index !== -1) {
    images.splice(index, 1);
    writeJsonFile(USER_IMAGES_FILE, images);
    return true;
  }
  return false;
}

// ID management
export function getNextIds(): { widgetId: number; variantId: number; appearanceId: number } {
  const ids = readJsonFile(IDS_FILE, { nextWidgetId: 1, nextVariantId: 1, nextAppearanceId: 1 });
  const result = {
    widgetId: ids.nextWidgetId,
    variantId: ids.nextVariantId,
    appearanceId: ids.nextAppearanceId
  };
  ids.nextWidgetId++;
  ids.nextVariantId++;
  ids.nextAppearanceId++;
  writeJsonFile(IDS_FILE, ids);
  return result;
}
